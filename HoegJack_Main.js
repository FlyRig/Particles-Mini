var gl,g_canvas=document.getElementById("webgl"),g_timeStep=1/60,g_runMode=3,g_drawForce=!1,g_drawCon=!1;groundGrid=new GroundGrid,Sys1=new PartSys(35e3),Sys2=new PartSys(100),Sys3=new PartSys(5e4),Sys4=new PartSys(4),camera=new Camera,gui=new GUI("container"),helpGui=new GUI("container"),bonusGui=new GUI("container");var lineShaderLoc,lineVAOLoc,lineVBOLoc,lineIBOLoc,lineVBOContents,lineIBOContents,lineU_ModelMatLoc,lineU_VpMatLoc,lineU_ColorLoc,needRefresh=!0,lineStartEnd=[],lineLims=[],lineForces=[],selected=Sys1,selectNum=1,helpToggle=!1,ctrlMode=0,isBonus=!0;function main(){var e;(gl=g_canvas.getContext("webgl2",{preserveDrawingBuffer:!0}))?(gl.clearColor(.15,.15,.15,1),gl.enable(gl.DEPTH_TEST),init(gl),drawResize(),(e=function(){myPress(),camera.changed?(camera.refreshVP(),drawAll(gl)):(1<g_runMode||!0===needRefresh)&&(drawAll(gl),needRefresh=!1),requestAnimationFrame(e)})()):console.log("Failed to get the rendering context for WebGL")}function init(e){groundGrid.init(e),initSys1(),initSys2(),initSys3(),initSys4(),camera.init(),initLines(),initPage()}function initPage(){window.addEventListener("keydown",myKeyDown,!1),window.addEventListener("keyup",myKeyUp,!1),window.addEventListener("keypress",myKeyPress,!1),gui.init(),gui.addDynamic("P","",selected.name,"name"),gui.addDynamic("P","","Midpoint","solver"),refreshSolver(selected.solverType),selected.sysType==SYS_CPU?gui.addDynamic("P","Mode: ","CPU","sysType"):selected.sysType==SYS_HYBRID?gui.addDynamic("P","Mode: ","Hybrid","sysType"):gui.addDynamic("P","Mode: ","GPU","sysType"),gui.addDynamic("P","Count: ",selected.partCount,"count"),gui.addDynamic("P","","Run","runMode"),helpGui.addWindow("DIV","overlay","center"),helpGui.addStatic("P","Keymap: (all lower case - technically you can use capitals, but don't)"),helpGui.addStatic("P","WASD = Camera Movement"),helpGui.addStatic("P","Spacebar = Camera Up"),helpGui.addStatic("P","Shift = Camera Down"),helpGui.addStatic("P","Arrows = Pan/Tilt"),helpGui.addStatic("P","M = Toggle Perspective / Orthographic View"),helpGui.addStatic("P","T = Toggle HUD"),helpGui.addStatic("P","1 = Pause"),helpGui.addStatic("P","2 = Step"),helpGui.addStatic("P","3 = Run"),helpGui.addStatic("P","R = Add Random Velocity to Particles"),helpGui.addStatic("P","C = Toggle Constraint Visibility"),helpGui.addStatic("P","F = Toggle Fountain"),helpGui.addStatic("P","â€“ = Select Last"),helpGui.addStatic("P","+ = Select Next"),helpGui.addStatic("P","[ = Decrement Solver"),helpGui.addStatic("P","] = Increment Solver"),helpGui.addStatic("P","Enter = Toggle Camera/System Mode (System Mode lets you drive the fire, and vortex)"),helpGui.toggleUI(),bonusGui.addWindow("DIV","overlay","upRight"),bonusGui.addStatic("P","Press 'h' for Help")}function initLines(){var e=[],t=[];for(i=0;i<Sys1.forceList.length;i++)if(Sys1.forceList[i].forceType==F_FIELD){lineForces.push(Sys1.forceList[i]),lineStartEnd.push(t.length);var s=e.length/3;for(k=0;k<Sys1.forceList[i].vboContents.length;k++)e.push(Sys1.forceList[i].vboContents[k]);for(j=0;j<Sys1.forceList[i].iboContents.length;j++)t.push(Sys1.forceList[i].iboContents[j]+s);lineStartEnd.push(t.length)}for(i=0;i<Sys2.forceList.length;i++)if(Sys2.forceList[i].forceType==F_FIELD){lineForces.push(Sys2.forceList[i]),lineStartEnd.push(t.length);s=e.length/3;for(k=0;k<Sys2.forceList[i].vboContents.length;k++)e.push(Sys2.forceList[i].vboContents[k]);for(j=0;j<Sys2.forceList[i].iboContents.length;j++)t.push(Sys2.forceList[i].iboContents[j]+s);lineStartEnd.push(t.length)}for(i=0;i<Sys3.forceList.length;i++)if(Sys3.forceList[i].forceType==F_FIELD){lineForces.push(Sys3.forceList[i]),lineStartEnd.push(t.length);s=e.length/3;for(k=0;k<Sys3.forceList[i].vboContents.length;k++)e.push(Sys3.forceList[i].vboContents[k]);for(j=0;j<Sys3.forceList[i].iboContents.length;j++)t.push(Sys3.forceList[i].iboContents[j]+s);lineStartEnd.push(t.length)}for(i=0;i<Sys4.forceList.length;i++)if(Sys4.forceList[i].forceType==F_FIELD){lineForces.push(Sys4.forceList[i]),lineStartEnd.push(t.length);s=e.length/3;for(k=0;k<Sys4.forceList[i].vboContents.length;k++)e.push(Sys4.forceList[i].vboContents[k]);for(j=0;j<Sys4.forceList[i].iboContents.length;j++)t.push(Sys4.forceList[i].iboContents[j]+s);lineStartEnd.push(t.length)}for(i=0;i<Sys1.limitList.length;i++){switch(Sys1.limitList[i].limitType){case LIM_COLOR_AGE:case LIM_COLOR_VEL:case LIM_VEL_CMPDR:continue}lineLims.push(Sys1.limitList[i]),lineStartEnd.push(t.length);s=e.length/3;for(k=0;k<Sys1.limitList[i].vboContents.length;k++)e.push(Sys1.limitList[i].vboContents[k]);for(j=0;j<Sys1.limitList[i].iboContents.length;j++)t.push(Sys1.limitList[i].iboContents[j]+s);lineStartEnd.push(t.length)}for(i=0;i<Sys2.limitList.length;i++){switch(Sys2.limitList[i].limitType){case LIM_COLOR_AGE:case LIM_COLOR_VEL:case LIM_VEL_CMPDR:continue}lineLims.push(Sys2.limitList[i]),lineStartEnd.push(t.length);s=e.length/3;for(k=0;k<Sys2.limitList[i].vboContents.length;k++)e.push(Sys2.limitList[i].vboContents[k]);for(j=0;j<Sys2.limitList[i].iboContents.length;j++)t.push(Sys2.limitList[i].iboContents[j]+s);lineStartEnd.push(t.length)}for(i=0;i<Sys3.limitList.length;i++){switch(Sys3.limitList[i].limitType){case LIM_COLOR_AGE:case LIM_COLOR_VEL:case LIM_VEL_CMPDR:continue}lineLims.push(Sys3.limitList[i]),lineStartEnd.push(t.length);s=e.length/3;for(k=0;k<Sys3.limitList[i].vboContents.length;k++)e.push(Sys3.limitList[i].vboContents[k]);for(j=0;j<Sys3.limitList[i].iboContents.length;j++)t.push(Sys3.limitList[i].iboContents[j]+s);lineStartEnd.push(t.length)}for(i=0;i<Sys4.limitList.length;i++){switch(Sys3.limitList[i].limitType){case LIM_COLOR_AGE:case LIM_COLOR_VEL:case LIM_VEL_CMPDR:continue}lineLims.push(Sys4.limitList[i]),lineStartEnd.push(t.length);s=e.length/3;for(k=0;k<Sys4.limitList[i].vboContents.length;k++)e.push(Sys4.limitList[i].vboContents[k]);for(j=0;j<Sys4.limitList[i].iboContents.length;j++)t.push(Sys4.limitList[i].iboContents[j]+s);lineStartEnd.push(t.length)}if(lineVBOContents=new Float32Array(e),lineIBOContents=new Uint16Array(t),lineShaderLoc=createProgram(gl,LINE_VSHADER,LINE_FSHADER))if(gl.program=lineShaderLoc,lineU_ModelMatLoc=gl.getUniformLocation(lineShaderLoc,"u_ModelMatrix"))if(lineU_VpMatLoc=gl.getUniformLocation(lineShaderLoc,"u_VpMatrix"))if(lineU_ColorLoc=gl.getUniformLocation(lineShaderLoc,"u_Color"))if(lineVAOLoc=gl.createVertexArray(),gl.bindVertexArray(lineVAOLoc),lineVBOLoc=gl.createBuffer())if(lineIBOLoc=gl.createBuffer()){gl.bindBuffer(gl.ARRAY_BUFFER,lineVBOLoc),gl.bufferData(gl.ARRAY_BUFFER,lineVBOContents,gl.STATIC_DRAW),gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,lineIBOLoc),gl.bufferData(gl.ELEMENT_ARRAY_BUFFER,lineIBOContents,gl.STATIC_DRAW);var a=gl.getAttribLocation(lineShaderLoc,"a_Position");if(this.a_PosLoc<0)return console.log(this.constructor.name+".init() Failed to get GPU location of attribute a_Position"),-1;gl.enableVertexAttribArray(a),gl.vertexAttribPointer(a,3,gl.FLOAT,!1,12,0),gl.bindVertexArray(null)}else console.log(this.constructor.name+".init() failed to create IBO in GPU. Bye!");else console.log(this.constructor.name+"failed to create VBO in GPU. Bye!");else console.log(this.constructor.name+".init() failed to get GPU location for u_Color uniform");else console.log(this.constructor.name+".init() failed to get GPU location for u_VpMatrix uniform");else console.log(this.constructor.name+".init() failed to get GPU location for u_ModelMatrix uniform");else console.log(this.constructor.name+"failed to create executable Shaders on the GPU. Bye!")}function drawAll(e){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),Sys3.draw(camera),groundGrid.draw(camera),Sys2.draw(camera),Sys1.draw(camera),Sys4.draw(camera),(g_drawCon||g_drawForce)&&drawLines(),2==g_runMode&&(g_runMode=1)}function drawResize(){g_canvas.width=innerWidth,g_canvas.height=innerHeight;var e=document.getElementById("header");e&&(g_canvas.height-=e.clientHeight),camera.refreshAspect(),gl.viewport(0,0,g_canvas.width,g_canvas.height)}function drawLines(){for(gl.useProgram(lineShaderLoc),gl.bindVertexArray(lineVAOLoc),gl.uniformMatrix4fv(lineU_VpMatLoc,!1,camera.vp),i=0;i<lineStartEnd.length;i+=2){if(i<2*lineForces.length){if(!g_drawForce)continue;gl.uniform4f(lineU_ColorLoc,0,.7,0,1),gl.uniformMatrix4fv(lineU_ModelMatLoc,!1,lineForces[i/2].modelMat)}else{if(!g_drawCon)continue;gl.uniform4f(lineU_ColorLoc,1,0,0,1),gl.uniformMatrix4fv(lineU_ModelMatLoc,!1,lineLims[i/2-lineForces.length].modelMat)}gl.drawElements(gl.LINE_STRIP,lineStartEnd[i+1]-lineStartEnd[i],gl.UNSIGNED_SHORT,2*lineStartEnd[i])}gl.bindVertexArray(null)}function initSys1(){Sys1.setName("Vortex"),Sys1.addForce(F_GRAV_E),Sys1.addForce(F_FIELD,[-70,0,50],100,-2e4,1.5),Sys1.addLimit(LIM_VORTEX,[-70,0,0],100,90,[0,0,1],2,10),Sys1.addLimit(LIM_INF_PLANE,[0,0,0],[0,0,1],.85),Sys1.orb=!1,Sys1.blend2=!0,Sys1.aging=!0,Sys1.pickSys(),Sys1.initEmitter(E_POINT,[-70,0,1.5]),Sys1.emit.setRange(CPU_PART_XVEL,[5,12]),Sys1.emit.setRange(CPU_PART_HUE,[200,200]),Sys1.emit.setRange(CPU_PART_SAT,[.15,.55]),Sys1.emit.setRange(CPU_PART_INT,[0,.04]),Sys1.emit.setRange(CPU_PART_LIFE,[1,4]),Sys1.initParticles(),Sys1.compileShader()}function sys1Forward(){var e=camera.getForwardDir();glMatrix.vec2.normalize(e,e),e[0]*=.35,e[1]*=.35,Sys1.emit.pos[0]+=e[0],Sys1.emit.pos[1]+=e[1],Sys1.forceList[1].pos[0]+=e[0],Sys1.forceList[1].pos[1]+=e[1],Sys1.limitList[0].base[0]+=e[0],Sys1.limitList[0].base[1]+=e[1],glMatrix.mat4.translate(Sys1.forceList[1].modelMat,Sys1.forceList[1].modelMat,[e[0],e[1],0]),glMatrix.mat4.translate(Sys1.limitList[0].modelMat,Sys1.limitList[0].modelMat,[e[0],e[1],0])}function sys1Backward(){var e=camera.getForwardDir();glMatrix.vec2.normalize(e,e),e[0]*=.35,e[1]*=.35,Sys1.emit.pos[0]-=e[0],Sys1.emit.pos[1]-=e[1],Sys1.forceList[1].pos[0]-=e[0],Sys1.forceList[1].pos[1]-=e[1],Sys1.limitList[0].base[0]-=e[0],Sys1.limitList[0].base[1]-=e[1],glMatrix.mat4.translate(Sys1.forceList[1].modelMat,Sys1.forceList[1].modelMat,[-e[0],-e[1],0]),glMatrix.mat4.translate(Sys1.limitList[0].modelMat,Sys1.limitList[0].modelMat,[-e[0],-e[1],0])}function sys1Left(){var e=camera.getSideDir();e[0]*=.35,e[1]*=.35,Sys1.emit.pos[0]-=e[0],Sys1.emit.pos[1]-=e[1],Sys1.forceList[1].pos[0]-=e[0],Sys1.forceList[1].pos[1]-=e[1],Sys1.limitList[0].base[0]-=e[0],Sys1.limitList[0].base[1]-=e[1],glMatrix.mat4.translate(Sys1.forceList[1].modelMat,Sys1.forceList[1].modelMat,[-e[0],-e[1],0]),glMatrix.mat4.translate(Sys1.limitList[0].modelMat,Sys1.limitList[0].modelMat,[-e[0],-e[1],0])}function sys1Right(){var e=camera.getSideDir();e[0]*=.35,e[1]*=.35,Sys1.emit.pos[0]+=e[0],Sys1.emit.pos[1]+=e[1],Sys1.forceList[1].pos[0]+=e[0],Sys1.forceList[1].pos[1]+=e[1],Sys1.limitList[0].base[0]+=e[0],Sys1.limitList[0].base[1]+=e[1],glMatrix.mat4.translate(Sys1.forceList[1].modelMat,Sys1.forceList[1].modelMat,[e[0],e[1],0]),glMatrix.mat4.translate(Sys1.limitList[0].modelMat,Sys1.limitList[0].modelMat,[e[0],e[1],0])}function initSys2(){Sys2.addForce(F_FLOCK,1,.75,.3,15,25,100,240,3),Sys2.addLimit(LIM_VOL,[0,0,75],[200,200,150],[1,.5,0],[-.5,1,0],.85),Sys2.addLimit(LIM_COLOR_VEL,90),Sys2.addLimit(LIM_VEL_CMPDR,3,9),Sys2.setName("Flocking"),Sys2.pickSys(),Sys2.initEmitter(E_VOL,[0,0,3],[5,5,5]),Sys2.emit.setRange(CPU_PART_XVEL,[2,5]),Sys2.emit.setRange(CPU_PART_MASS,[2.4,2.4]),Sys2.initParticles(),Sys2.compileShader()}function initSys3(){Sys3.addForce(F_GRAV_E,2.2,[0,0,-1]),Sys3.addForce(F_STATIC,[0,0,1],7),Sys3.addForce(F_DRAG,.15),Sys3.addLimit(LIM_INF_PLANE,[0,0,0],[0,0,1],.6),Sys3.addLimit(LIM_COLOR_AGE,0,30,4),Sys3.addLimit(LIM_COLOR_AGE,1,.45,.9),Sys3.addLimit(LIM_COLOR_AGE,2,1,.4),Sys3.orb=!1,Sys3.blend=!0,Sys3.setName("Flame"),Sys3.pickSys(),Sys3.initEmitter(E_SPHERE,[-50,-75,8],4),Sys3.emit.setRange(CPU_PART_XVEL,[0,6]),Sys3.emit.setRange(CPU_PART_MASS,[1,5]),Sys3.initParticles(),Sys3.compileShader(),Sys3.aging=!0}function sys3Forward(){var e=camera.getForwardDir();glMatrix.vec2.normalize(e,e),Sys3.emit.pos[0]+=e[0],Sys3.emit.pos[1]+=e[1]}function sys3Backward(){var e=camera.getForwardDir();glMatrix.vec2.normalize(e,e),Sys3.emit.pos[0]-=e[0],Sys3.emit.pos[1]-=e[1]}function sys3Left(){var e=camera.getSideDir();Sys3.emit.pos[0]-=e[0],Sys3.emit.pos[1]-=e[1]}function sys3Right(){var e=camera.getSideDir();Sys3.emit.pos[0]+=e[0],Sys3.emit.pos[1]+=e[1]}function sys3Up(){Sys3.emit.pos[0]+=.5*camera.upV[0],Sys3.emit.pos[1]+=.5*camera.upV[1],Sys3.emit.pos[2]+=.5*camera.upV[2]}function sys3Down(){Sys3.emit.pos[2]-1>Sys3.emit.radius&&(Sys3.emit.pos[0]-=.5*camera.upV[0],Sys3.emit.pos[1]-=.5*camera.upV[1],Sys3.emit.pos[2]-=.5*camera.upV[2])}function initSys4(){Sys4.setName("Springs"),Sys4.addForce(F_SPRING,0,CPU_PART_MAXVAR,30,.4,2.5),Sys4.addForce(F_SPRING,0,2*CPU_PART_MAXVAR,30,.4,2.5),Sys4.addForce(F_SPRING,0,3*CPU_PART_MAXVAR,30,.4,2.5),Sys4.addForce(F_SPRING,CPU_PART_MAXVAR,2*CPU_PART_MAXVAR,30,.4,2.5),Sys4.addForce(F_SPRING,CPU_PART_MAXVAR,3*CPU_PART_MAXVAR,30,.4,2.5),Sys4.addForce(F_SPRING,2*CPU_PART_MAXVAR,3*CPU_PART_MAXVAR,30,.4,2.5),Sys4.addForce(F_GRAV_E,2.4,[0,0,-1]),Sys4.addLimit(LIM_BALL_IN,[40,40,20],10,.7),Sys4.sysType=0,Sys4.solverType=SOLV_SYMP_EULER,Sys4.pickSys(),Sys4.initEmitter(E_POINT,[40,40,20]),Sys4.emit.setRange(CPU_PART_MASS,[5,5]),Sys4.initParticles(),Sys4.compileShader()}var keys={87:!1,83:!1,65:!1,68:!1,38:!1,40:!1,37:!1,39:!1,32:!1,16:!1,17:!1,67:!1};function myKeyDown(e){87==e.keyCode?keys[87]=!0:83==e.keyCode&&(keys[83]=!0),65==e.keyCode?keys[65]=!0:68==e.keyCode&&(keys[68]=!0),38==e.keyCode?keys[38]=!0:40==e.keyCode&&(keys[40]=!0),37==e.keyCode?keys[37]=!0:39==e.keyCode&&(keys[39]=!0),32==e.keyCode?keys[32]=!0:16==e.keyCode&&(keys[16]=!0),17==e.keyCode&&(keys[17]=!0),67==e.keyCode&&(keys[67]=!0)}function myKeyUp(e){87==e.keyCode?keys[87]=!1:83==e.keyCode&&(keys[83]=!1),65==e.keyCode?keys[65]=!1:68==e.keyCode&&(keys[68]=!1),38==e.keyCode?keys[38]=!1:40==e.keyCode&&(keys[40]=!1),37==e.keyCode?keys[37]=!1:39==e.keyCode&&(keys[39]=!1),32==e.keyCode?keys[32]=!1:16==e.keyCode&&(keys[16]=!1),17==e.keyCode&&(keys[17]=!1),67==e.keyCode&&(keys[67]=!1)}function myPress(){var e=!1;if(keys[87]){if(0==ctrlMode)camera.dollyForward();else if(1<g_runMode)switch(this.selectNum){default:case 2:case 4:break;case 1:sys1Forward();break;case 3:sys3Forward()}}else if(keys[83])if(0==ctrlMode)camera.dollyBack();else if(1<g_runMode)switch(this.selectNum){default:case 2:case 4:break;case 1:sys1Backward();break;case 3:sys3Backward()}if(keys[65]){if(0==ctrlMode)camera.strafeLeft();else if(1<g_runMode)switch(this.selectNum){default:case 2:case 4:break;case 1:sys1Left();break;case 3:sys3Left()}}else if(keys[68])if(0==ctrlMode)camera.strafeRight();else if(1<g_runMode)switch(this.selectNum){default:case 2:case 4:break;case 1:sys1Right();break;case 3:sys3Right()}if(keys[38]?(camera.tiltUp(),e=!0):keys[40]&&(camera.tiltDown(),e=!0),keys[37]?(camera.panLeft(),e=!0):keys[39]&&(camera.panRight(),e=!0),keys[32]){if(0==ctrlMode)camera.craneUp();else if(1<g_runMode)switch(this.selectNum){default:case 2:case 4:case 1:break;case 3:sys3Up()}}else if(keys[16])if(0==ctrlMode)camera.craneDown();else if(1<g_runMode)switch(this.selectNum){default:case 2:case 4:case 1:break;case 3:sys3Down()}e&&camera.refreshView()}function myKeyPress(e){switch(String.fromCharCode(e.keyCode)){case"1":g_runMode=0,gui.updateDyn("runMode","Pause"),needRefresh=!0;break;case"2":g_runMode=2,gui.updateDyn("runMode","Step"),needRefresh=!0;break;case"3":g_runMode=3,gui.updateDyn("runMode","Run"),needRefresh=!0;break;case"r":case"R":selected.nudge(4);break;case"m":case"M":camera.changeType();break;case"c":case"C":(g_drawCon||g_drawForce)&&(g_drawCon&&g_drawForce||g_drawCon)?(g_drawCon=!g_drawCon,g_drawForce=!g_drawForce):g_drawCon=!g_drawCon,needRefresh=!0;break;case"f":case"F":particles.aging=!particles.aging;break;case"t":case"T":if(!helpGui.isOn){gui.toggleUI();try{refreshGui()}catch{}}break;case"h":case"H":helpGui.toggleUI(),helpGui.isOn&&gui.isOn?(gui.toggleUI(),helpToggle=!0):helpGui.isOn||1!=helpToggle||(gui.toggleUI(),helpToggle=!1),isBonus&&(bonusGui.toggleUI(),delete bonusGui,isBonus=!1);break;case"[":case"{":selected.solverType-=2;case"]":case"}":selected.solverType++,selected.solverType%=SOLV_MAX,selected.solverType<0&&(selected.solverType=SOLV_MAX-1);try{refreshSolver(selected.solverType)}catch{}break;case"-":case"_":switch(selectNum){case 1:selected=Sys4,selectNum=4;break;default:case 2:selected=Sys1,selectNum--;break;case 3:selected=Sys2,selectNum--;break;case 4:selected=Sys3,selectNum--}refreshGui();break;case"+":case"=":switch(selectNum){case 1:selected=Sys2,selectNum++;break;case 2:selected=Sys3,selectNum++;break;case 3:selected=Sys4,selectNum++;break;default:selected=Sys1,selectNum=1}try{refreshGui()}catch{}break;case"p":Sys3.emit.pos[1]+=1;break;case"l":--Sys3.emit.pos[0];break;case"k":--Sys3.emit.pos[1];break;case"o":Sys3.emit.pos[0]+=1;break;case"13":console.log("pressed enter")}13==e.keyCode&&(ctrlMode=!ctrlMode)}function refreshGui(){gui.updateDyn("name",selected.name),gui.updateDyn("count",selected.partCount),refreshMode(selected.sysType),refreshSolver(selected.solverType)}function refreshMode(e){switch(e){default:case SYS_GPU:gui.updateDyn("sysType","GPU");break;case SYS_HYBRID:gui.updateDyn("sysType","Hybrid");break;case SYS_CPU:gui.updateDyn("sysType","CPU")}}function refreshSolver(e){switch(e){default:case SOLV_EULER:gui.updateDyn("solver","Euler");break;case SOLV_MIDPOINT:gui.updateDyn("solver","Midpoint");break;case SOLV_VEL_VERLET:gui.updateDyn("solver","Velocity Verlet");break;case SOLV_BACK_EULER:gui.updateDyn("solver","Backwind Euler");break;case SOLV_BACK_MIDPT:gui.updateDyn("solver","Backwind Midpoint");break;case SOLV_SYMP_EULER:gui.updateDyn("solver","Semi-Implicit Euler")}}function temp_keymapOut(){console.log("Keymap: (all lower case - technically you can do capitals, but don't)"),console.log("\tWASD\t\t= Camera Movement"),console.log("\tSpacebar\t= Camera Up"),console.log("\tShift\t\t= Camera Down"),console.log("\tArrows\t\t= Pan/Tilt"),console.log("\tM\t\t= Toggle Perspective / Orthographic View"),console.log("\tT \t\t= Toggle HUD"),console.log("\t1\t\t= Pause"),console.log("\t2\t\t= Step"),console.log("\t3\t\t= Run"),console.log("\tR\t\t= Add Random Velocity to Particles"),console.log("\tC\t\t= Toggle Constraint Visibility"),console.log("\tF\t\t= Toggle Fountain"),console.log("\t[\t\t= Decrement Solver"),console.log("\t]\t\t= Increment Solver")}